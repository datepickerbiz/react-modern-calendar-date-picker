"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("react"),n=(e=t)&&"object"==typeof e&&"default"in e?e.default:e;function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=o.call(n)).done)&&(c.push(a.value),c.length!==t);l=!0);}catch(e){s=!0,r=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw r}}return c}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var m=["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"],f=function(e,t){return Array.from(Array(e).keys()).map((function(e){return{value:e+1,id:"".concat(t,"-").concat(e)}}))},h=function(e,t){return!(!e||!t)&&(e.day===t.day&&e.month===t.month&&e.year===t.year)},y=function(e){return 1===e.toString().length?"0".concat(e):e},g=function(e){return r({},e)},p=function(e,t){var n="NEXT"===t?1:-1,a=e.month+n,r=e.year;return a<1&&(a=12,r-=1),a>12&&(a=1,r+=1),{year:r,month:a,day:1}},v=function(e,t){return Object.prototype.hasOwnProperty.call(e||{},t)},D=function(e){if(Array.isArray(e))return"MUTLI_DATE";if(v(e,"from")&&v(e,"to"))return"RANGE";if(!e||v(e,"year")&&v(e,"month")&&v(e,"day"))return"SINGLE_DATE";throw new TypeError("The passed value is malformed! Please make sure you're using one of the valid value types for date picker.")},b={toJalaali:function(e,t,n){"[object Date]"===Object.prototype.toString.call(e)&&(n=e.getDate(),t=e.getMonth()+1,e=e.getFullYear());return A(O(e,t,n))},toGregorian:E,isValidJalaaliDate:function(e,t,n){return e>=-61&&e<=3177&&t>=1&&t<=12&&n>=1&&n<=N(e,t)},isLeapJalaaliYear:C,jalaaliMonthLength:N,jalCal:w,j2d:_,d2j:A,g2d:O,d2g:k,jalaaliToDateObject:T,jalaaliWeek:function(e,t,n){var a=T(e,t,n).getDay(),r=6==a?0:-(a+1),o=6+r;return{saturday:A(_(e,t,n+r)),friday:A(_(e,t,n+o))}}},S=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function E(e,t,n){return k(_(e,t,n))}function C(e){return 0===function(e){var t,n,a,r,o,i=S.length,c=S[0];if(e<c||e>=S[i-1])throw new Error("Invalid Jalaali year "+e);for(o=1;o<i&&(n=(t=S[o])-c,!(e<t));o+=1)c=t;n-(r=e-c)<6&&(r=r-n+33*M(n+4,33));-1===(a=L(L(r+1,33)-1,4))&&(a=4);return a}(e)}function N(e,t){return t<=6?31:t<=11||C(e)?30:29}function w(e,t){var n,a,r,o,i,c,l=S.length,s=e+621,u=-14,d=S[0];if(e<d||e>=S[l-1])throw new Error("Invalid Jalaali year "+e);for(c=1;c<l&&(a=(n=S[c])-d,!(e<n));c+=1)u=u+8*M(a,33)+M(L(a,33),4),d=n;return u=u+8*M(i=e-d,33)+M(L(i,33)+3,4),4===L(a,33)&&a-i==4&&(u+=1),o=20+u-(M(s,4)-M(3*(M(s,100)+1),4)-150),t?{gy:s,march:o}:(a-i<6&&(i=i-a+33*M(a+4,33)),-1===(r=L(L(i+1,33)-1,4))&&(r=4),{leap:r,gy:s,march:o})}function _(e,t,n){var a=w(e,!0);return O(a.gy,3,a.march)+31*(t-1)-M(t,7)*(t-7)+n-1}function A(e){var t,n=k(e).gy,a=n-621,r=w(a,!1);if((t=e-O(n,3,r.march))>=0){if(t<=185)return{jy:a,jm:1+M(t,31),jd:L(t,31)+1};t-=186}else a-=1,t+=179,1===r.leap&&(t+=1);return{jy:a,jm:7+M(t,30),jd:L(t,30)+1}}function O(e,t,n){var a=M(1461*(e+M(t-8,6)+100100),4)+M(153*L(t+9,12)+2,5)+n-34840408;return a=a-M(3*M(e+100100+M(t-8,6),100),4)+752}function k(e){var t,n,a,r;return t=(t=4*e+139361631)+4*M(3*M(4*e+183187720,146097),4)-3908,n=5*M(L(t,1461),4)+308,a=M(L(n,153),5)+1,r=L(M(n,153),12)+1,{gy:M(t,1461)-100100+M(8-r,6),gm:r,gd:a}}function T(e,t,n,a,r,o,i){var c=E(e,t,n);return new Date(c.gy,c.gm-1,c.gd,a||0,r||0,o||0,i||0)}function M(e,t){return~~(e/t)}function L(e,t){return e-~~(e/t)*t}var x={en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekDays:[{name:"Sunday",short:"S",isWeekend:!0},{name:"Monday",short:"M"},{name:"Tuesday",short:"T"},{name:"Wednesday",short:"W"},{name:"Thursday",short:"T"},{name:"Friday",short:"F"},{name:"Saturday",short:"S",isWeekend:!0}],weekStartingIndex:0,getToday:function(e){return e},toNativeDate:function(e){return new Date(e.year,e.month-1,e.day)},getMonthLength:function(e){return new Date(e.year,e.month,0).getDate()},transformDigit:function(e){return e},nextMonth:"Next Month",previousMonth:"Previous Month",openMonthSelector:"Open Month Selector",openYearSelector:"Open Year Selector",closeMonthSelector:"Close Month Selector",closeYearSelector:"Close Year Selector",from:"from",to:"to",defaultPlaceholder:"Select...",digitSeparator:",",yearLetterSkip:0,isRtl:!1},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],weekDays:[{name:"شنبه",short:"ش"},{name:"یکشنبه",short:"ی"},{name:"دوشنبه",short:"د"},{name:"سه شنبه",short:"س"},{name:"چهارشنبه",short:"چ"},{name:"پنجشنبه",short:"پ"},{name:"جمعه",short:"ج",isWeekend:!0}],weekStartingIndex:1,getToday:function(e){var t=e.year,n=e.month,a=e.day,r=b.toJalaali(t,n,a);return{year:r.jy,month:r.jm,day:r.jd}},toNativeDate:function(e){var t=b.toGregorian.apply(b,s(function(e){return[e.year,e.month,e.day]}(e)));return new Date(t.gy,t.gm-1,t.gd)},getMonthLength:function(e){return b.jalaaliMonthLength(e.year,e.month)},transformDigit:function(e){return e.toString().split("").map((function(e){return m[Number(e)]})).join("")},nextMonth:"ماه بعد",previousMonth:"ماه قبل",openMonthSelector:"نمایش انتخابگر ماه",openYearSelector:"نمایش انتخابگر سال",closeMonthSelector:"بستن انتخابگر ماه",closeYearSelector:"بستن انتخابگر ماه",from:"از",to:"تا",defaultPlaceholder:"انتخاب...",digitSeparator:"،",yearLetterSkip:-2,isRtl:!0}},R=function(e){return"string"==typeof e?x[e]:e},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t="string"==typeof e?R(e):e,n=t.months,a=t.getToday,o=t.toNativeDate,i=t.getMonthLength,c=t.weekStartingIndex,l=t.transformDigit,s=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();return a({year:t,month:n,day:r})},u=function(e){return n[e-1]},d=function(e){return n.indexOf(e)+1},m=function(e){return(o(r(r({},e),{},{day:1})).getDay()+c)%7},f=function(e,t){return!(!e||!t)&&o(e)<o(t)},h=function(e){var t=e.day,n=e.from,a=e.to;if(!t||!n||!a)return!1;var r=o(t),i=o(n),c=o(a);return r>i&&r<c};return{getToday:s,getMonthName:u,getMonthNumber:d,getMonthLength:i,getMonthFirstWeekday:m,isBeforeDate:f,checkDayInDayRange:h,getLanguageDigits:l}},P=function(e){return t.useMemo((function(){return j(e)}),[e])},I=function(e){return t.useMemo((function(){return R(e)}),[e])},Y=function(e){var t=e.parent,n=e.isInitialActiveChild,a=e.activeDate,r=e.monthChangeDirection;if(!t)return n?a:p(a,"NEXT");var o=t.children[n?0:1];return o.classList.contains("-shown")||o.classList.contains("-shownAnimated")?a:p(a,r)},W=function(e){var t=e.parent,n=e.direction,a=Array.from(t.children),r=a.find((function(e){return e.classList.contains("-shown")})),o=a.find((function(e){return e!==r})),i=r.classList[0],c="NEXT"===n,l=function(e){return e?"-hiddenNext":"-hiddenPrevious"};o.style.transition="none",r.style.transition="",r.className="".concat(i," ").concat(l(!c)),o.className="".concat(i," ").concat(l(c)),o.classList.add("-shownAnimated")},B=function(e){var t=e.target;t.classList.remove("-hiddenNext"),t.classList.remove("-hiddenPrevious"),t.classList.replace("-shownAnimated","-shown")},F=function(e){var a=e.maximumDate,o=e.minimumDate,c=e.onMonthChange,l=e.activeDate,u=e.monthChangeDirection,d=e.onMonthSelect,m=e.onYearSelect,f=e.isMonthSelectorOpen,y=e.isYearSelectorOpen,g=e.locale,p=t.useRef(null),v=t.useRef(null),D=P(g),b=D.getMonthName,S=D.isBeforeDate,E=D.getLanguageDigits,C=I(g),N=C.isRtl,w=C.nextMonth,_=C.previousMonth,A=C.openMonthSelector,O=C.closeMonthSelector,k=C.openYearSelector,T=C.closeYearSelector;t.useEffect((function(){u&&W({direction:u,parent:v.current})}),[u]),t.useEffect((function(){var e=f||y,t=p.current.querySelector(".Calendar__monthYear.-shown .Calendar__monthText"),n=t.nextSibling,a=function(e){return e.classList.contains("-activeBackground")};if(!(!e&&!a(t)&&!a(n))){var r=s(p.current.querySelectorAll(".Calendar__monthArrowWrapper")),o=f||a(t),i=o?t:n,c=o?n:t,l=o?1:-1;N&&(l*=-1);var u=e?1:.95,d=e?"".concat(l*c.offsetWidth/2):0;e?c.setAttribute("aria-hidden",!0):c.removeAttribute("aria-hidden"),c.setAttribute("tabindex",e?"-1":"0"),c.style.transform="",i.style.transform="scale(".concat(u,") ").concat(d?"translateX(".concat(d,"px)"):""),i.classList.toggle("-activeBackground"),c.classList.toggle("-hidden"),r.forEach((function(e){var t=e.classList.contains("-hidden");e.classList.toggle("-hidden"),t?(e.removeAttribute("aria-hidden"),e.setAttribute("tabindex","0")):(e.setAttribute("aria-hidden",!0),e.setAttribute("tabindex","-1"))}))}}),[f,y]);var M=a&&S(a,r(r({},l),{},{month:l.month+1,day:1})),L=o&&(S(r(r({},l),{},{day:1}),o)||h(o,r(r({},l),{},{day:1}))),x=function(e){Array.from(v.current.children).some((function(e){return e.classList.contains("-shownAnimated")}))||c(e)},R=[!0,!1].map((function(e){var t=function(e){var t=Y({isInitialActiveChild:e,monthChangeDirection:u,activeDate:l,parent:v.current}),n=E(t.year);return{month:b(t.month),year:n}}(e),a=t.month,o=t.year,c=a===b(l.month),s=r({},c?{}:{"aria-hidden":!0});return n.createElement("div",i({onAnimationEnd:B,className:"Calendar__monthYear ".concat(e?"-shown":"-hiddenNext"),role:"presentation",key:String(e)},s),n.createElement("button",i({onClick:d,type:"button",className:"Calendar__monthText","aria-label":f?O:A,tabIndex:c?"0":"-1"},s),a),n.createElement("button",i({onClick:m,type:"button",className:"Calendar__yearText","aria-label":y?T:k,tabIndex:c?"0":"-1"},s),o))}));return n.createElement("div",{ref:p,className:"Calendar__header"},n.createElement("button",{className:"Calendar__monthArrowWrapper -right",onClick:function(){x("PREVIOUS")},"aria-label":_,type:"button",disabled:L},n.createElement("span",{className:"Calendar__monthArrow"})),n.createElement("div",{className:"Calendar__monthYearContainer",ref:v,"data-testid":"month-year-container"}," ",R),n.createElement("button",{className:"Calendar__monthArrowWrapper -left",onClick:function(){x("NEXT")},"aria-label":w,type:"button",disabled:M},n.createElement("span",{className:"Calendar__monthArrow"})))},G=function(e,t){var n=t.allowVerticalArrows,a=document.activeElement,r=function(e,t){return e?e.children[t]:null},o=function(e){return e&&(e.hasAttribute("aria-hidden")?null:e)},i=a.parentElement,c=i.nextSibling,l=i.previousSibling,s=o(a.nextSibling||r(c,0)),u=l?l.children.length-1:0,d=o(a.previousSibling||r(l,u)),m=function(e){return r(e,Array.from(a.parentElement.children).indexOf(a))},f=o(m(c)),h=o(m(l));"true"===a.dataset.isDefaultSelectable||(a.tabIndex="-1");var y=function(t){e.preventDefault(),t&&(t.setAttribute("tabindex","0"),t.focus())};switch(e.key){case"ArrowRight":y(s);break;case"ArrowLeft":y(d);break;case"ArrowDown":n&&y(f);break;case"ArrowUp":n&&y(h)}},J=function(e){var a=e.activeDate,o=e.maximumDate,c=e.minimumDate,l=e.onMonthSelect,s=e.isOpen,u=e.locale,d=t.useRef(null);t.useEffect((function(){var e=s?"add":"remove";d.current.classList[e]("-open")}),[s]);var m=P(u),f=m.getMonthNumber,y=m.isBeforeDate,g=I(u).months;return n.createElement("div",i({role:"presentation",className:"Calendar__monthSelectorAnimationWrapper"},s?{}:{"aria-hidden":!0}),n.createElement("div",{role:"presentation","data-testid":"month-selector-wrapper",className:"Calendar__monthSelectorWrapper",onKeyDown:function(e){G(e,{allowVerticalArrows:!1})}},n.createElement("ul",{ref:d,className:"Calendar__monthSelector","data-testid":"month-selector"},g.map((function(e){var t=f(e),i={day:1,month:t,year:a.year},u=o&&y(o,r(r({},i),{},{month:t})),d=c&&(y(r(r({},i),{},{month:t+1}),c)||h(r(r({},i),{},{month:t+1}),c)),m=t===a.month;return n.createElement("li",{key:e,className:"Calendar__monthSelectorItem ".concat(m?"-active":"")},n.createElement("button",{tabIndex:m&&s?"0":"-1",onClick:function(){l(t)},className:"Calendar__monthSelectorItemText",type:"button",disabled:u||d,"aria-pressed":m,"data-is-default-selectable":m},e))})))))},U=function(e){for(var a=e.isOpen,r=e.activeDate,o=e.onYearSelect,c=e.selectorStartingYear,l=e.selectorEndingYear,s=e.maximumDate,u=e.minimumDate,d=e.locale,m=t.useRef(null),f=t.useRef(null),h=P(d),y=h.getLanguageDigits,g=h.getToday,p=c||g().year-100,v=l||g().year+50,D=[],b=p;b<=v;b+=1)D.push(b);t.useEffect((function(){var e=a?"add":"remove",t=m.current.querySelector(".Calendar__yearSelectorItem.-active");if(!t)throw new RangeError("Provided value for year is out of selectable year range. You're probably using a wrong locale prop value or your provided value's locale is different from the date picker locale. Try changing the 'locale' prop or the value you've provided.");m.current.classList[e]("-faded"),f.current.scrollTop=t.offsetTop-5*t.offsetHeight,f.current.classList[e]("-open")}),[a]);return n.createElement("div",i({className:"Calendar__yearSelectorAnimationWrapper",role:"presentation"},a?{}:{"aria-hidden":!0}),n.createElement("div",{ref:m,className:"Calendar__yearSelectorWrapper",role:"presentation","data-testid":"year-selector-wrapper",onKeyDown:function(e){G(e,{allowVerticalArrows:!1})}},n.createElement("ul",{ref:f,className:"Calendar__yearSelector","data-testid":"year-selector"},D.map((function(e){var t=s&&e>s.year,i=u&&e<u.year,c=r.year===e;return n.createElement("li",{key:e,className:"Calendar__yearSelectorItem ".concat(c?"-active":"")},n.createElement("button",{tabIndex:c&&a?"0":"-1",className:"Calendar__yearSelectorText",type:"button",onClick:function(){o(e)},disabled:t||i,"aria-pressed":c,"data-is-default-selectable":c},y(e)))})))))};U.defaultProps={selectorStartingYear:0,selectorEndingYear:0};var H=["isDisabled"],V=function(e){var a=e.activeDate,o=e.value,l=e.monthChangeDirection,u=e.onSlideChange,d=e.disabledDays,m=e.onDisabledDayError,y=e.minimumDate,g=e.maximumDate,p=e.onChange,v=e.locale,b=e.calendarTodayClassName,S=e.calendarSelectedDayClassName,E=e.calendarRangeStartClassName,C=e.calendarRangeEndClassName,N=e.calendarRangeBetweenClassName,w=e.shouldHighlightWeekends,_=e.isQuickSelectorOpen,A=e.customDaysClassName,O=t.useRef(null),k=I(v),T=k.isRtl,M=k.weekDays,L=P(v),x=L.getToday,R=L.isBeforeDate,j=L.checkDayInDayRange,F=L.getMonthFirstWeekday,J=L.getMonthLength,U=L.getLanguageDigits,V=L.getMonthName,K=x();t.useEffect((function(){l&&W({direction:l,parent:O.current})}),[l]);var X=function(e){var t,n=(t=o,JSON.parse(JSON.stringify(t,(function(e,t){return void 0===t?null:t})))),a=n.from&&n.to?{from:null,to:null}:n,r=a.from?"to":"from";a[r]=e;var i=a.from,c=a.to;R(a.to,a.from)&&(a.from=c,a.to=i);var l=d.find((function(e){return j({day:e,from:a.from,to:a.to})}));return l?(m(l),o):a},q=function(e){var t=function(){switch(D(o)){case"SINGLE_DATE":return e;case"RANGE":return X(e);case"MUTLI_DATE":return function(e){var t=o.some((function(t){return h(t,e)})),n=[].concat(s(o),[e]),a=o.filter((function(t){return!h(t,e)}));return t?a:n}(e)}}();p(t)},Q=function(e){var t,n,a=h(e,K),r=(t=e,"SINGLE_DATE"===(n=D(o))?h(t,o):"MUTLI_DATE"===n?o.some((function(e){return h(e,t)})):void 0),i=o||{},c=i.from,l=i.to;return{isToday:a,isSelected:r,isStartingDayRange:h(e,c),isEndingDayRange:h(e,l),isWithinRange:j({day:e,from:c,to:l})}},$=function(e){var t=e.isDisabled,n=c(e,H);t?m(n):q(n)},z=function(e,t){var o=e.id,c=e.value,l=e.month,s=e.year,u=e.isStandard,m={day:c,month:l,year:s},f=d.some((function(e){return h(m,e)})),p=R(m,y),v=R(g,m),D=f||u&&(p||v),O=M.some((function(e,n){return e.isWeekend&&n===t})),k=function(e){var t=Q(e),n=t.isToday,a=t.isSelected,r=t.isStartingDayRange,o=t.isEndingDayRange,i=t.isWithinRange,c=A.find((function(t){return h(e,t)}));return"".concat(n&&!a?" -today ".concat(b):"").concat(e.isStandard?"":" -blank").concat(e.isWeekend&&w?" -weekend":"").concat(c?" ".concat(c.className):"").concat(a?" -selected ".concat(S):"").concat(r?" -selectedStart ".concat(E):"").concat(o?" -selectedEnd ".concat(C):"").concat(i?" -selectedBetween ".concat(N):"").concat(e.isDisabled?" -disabled":"")}(r(r({},m),{},{isWeekend:O,isStandard:u,isDisabled:D})),L="".concat(M[t].name,", ").concat(c," ").concat(V(l)," ").concat(s),x=l===a.month,j=Q(m),P=j.isSelected,I=j.isStartingDayRange,Y=j.isEndingDayRange,W=j.isWithinRange,B=function(e){var t=e.isOnActiveSlide,n=e.isStandard,a=e.isSelected,r=e.isStartingDayRange,o=e.isToday,i=e.day;return!(_||!t||!n)&&(!!(a||r||o||1===i)||void 0)}(r(r(r({},m),j),{},{isOnActiveSlide:x,isStandard:u}));return n.createElement("div",i({tabIndex:B?"0":"-1",key:o,className:"Calendar__day -".concat(T?"rtl":"ltr"," ").concat(k),onClick:function(){$(r(r({},m),{},{isDisabled:D}))},onKeyDown:function(e){"Enter"===e.key&&$(r(r({},m),{},{isDisabled:D}))},"aria-disabled":D,"aria-label":L,"aria-selected":P||I||Y||W},u&&x&&!_?{}:{"aria-hidden":!0},{role:"gridcell","data-is-default-selectable":B}),u?U(c):"")},Z=function(e){var t=function(e){var t=f(F(e),"starting-blank"),n=f(J(e)).map((function(t){return r(r({},t),{},{isStandard:!0,month:e.month,year:e.year})}));return[].concat(s(t),s(n))}(Y({activeDate:a,isInitialActiveChild:e,monthChangeDirection:l,parent:O.current}));return Array.from(Array(6).keys()).map((function(e){var a=t.slice(7*e,7*e+7).map(z);return n.createElement("div",{key:String(e),className:"Calendar__weekRow",role:"row"},a)}))};return n.createElement("div",{ref:O,className:"Calendar__sectionWrapper",role:"presentation","data-testid":"days-section-wrapper",onKeyDown:function(e){G(e,{allowVerticalArrows:!0})}},n.createElement("div",{onAnimationEnd:function(e){B(e),u()},className:"Calendar__section -shown",role:"rowgroup"},Z(!0)),n.createElement("div",{onAnimationEnd:function(e){B(e),u()},className:"Calendar__section -hiddenNext",role:"rowgroup"},Z(!1)))};V.defaultProps={onChange:function(){},onDisabledDayError:function(){},disabledDays:[],calendarTodayClassName:"",calendarSelectedDayClassName:"",calendarRangeStartClassName:"",calendarRangeBetweenClassName:"",calendarRangeEndClassName:"",shouldHighlightWeekends:!1};var K=function(e){var a=e.value,i=e.onChange,c=e.onDisabledDayError,s=e.calendarClassName,u=e.calendarTodayClassName,d=e.calendarSelectedDayClassName,m=e.calendarRangeStartClassName,f=e.calendarRangeBetweenClassName,h=e.calendarRangeEndClassName,y=e.disabledDays,v=e.colorPrimary,b=e.colorPrimaryLight,S=e.slideAnimationDuration,E=e.minimumDate,C=e.maximumDate,N=e.selectorStartingYear,w=e.selectorEndingYear,_=e.locale,A=e.shouldHighlightWeekends,O=e.renderFooter,k=e.customDaysClassName,T=t.useRef(null),M=l(t.useState({activeDate:null,monthChangeDirection:"",isMonthSelectorOpen:!1,isYearSelectorOpen:!1}),2),L=M[0],x=M[1];t.useEffect((function(){var e=T.current,t=function(t){"Tab"===t.key&&e.classList.remove("-noFocusOutline")};return e.addEventListener("keyup",t,!1),function(){e.removeEventListener("keyup",t,!1)}}));var R,j=P(_).getToday,Y=I(_),W=Y.weekDays,B=Y.isRtl,G=j(),H=function(e){return function(){x(r(r({},L),{},o({},e,!L[e])))}},K=H("isMonthSelectorOpen"),X=H("isYearSelectorOpen"),q=L.activeDate?g(L.activeDate):"MUTLI_DATE"===(R=D(a))&&a.length?g(a[0]):"SINGLE_DATE"===R&&a?g(a):"RANGE"===R&&a.from?g(a.from):g(G),Q=W.map((function(e){return n.createElement("abbr",{key:e.name,title:e.name,className:"Calendar__weekDay"},e.short)}));return n.createElement("div",{className:"Calendar -noFocusOutline ".concat(s," -").concat(B?"rtl":"ltr"),role:"grid",style:{"--cl-color-primary":v,"--cl-color-primary-light":b,"--animation-duration":S},ref:T},n.createElement(F,{maximumDate:C,minimumDate:E,activeDate:q,onMonthChange:function(e){x(r(r({},L),{},{monthChangeDirection:e}))},onMonthSelect:K,onYearSelect:X,monthChangeDirection:L.monthChangeDirection,isMonthSelectorOpen:L.isMonthSelectorOpen,isYearSelectorOpen:L.isYearSelectorOpen,locale:_}),n.createElement(J,{isOpen:L.isMonthSelectorOpen,activeDate:q,onMonthSelect:function(e){x(r(r({},L),{},{activeDate:r(r({},q),{},{month:e}),isMonthSelectorOpen:!1}))},maximumDate:C,minimumDate:E,locale:_}),n.createElement(U,{isOpen:L.isYearSelectorOpen,activeDate:q,onYearSelect:function(e){x(r(r({},L),{},{activeDate:r(r({},q),{},{year:e}),isYearSelectorOpen:!1}))},selectorStartingYear:N,selectorEndingYear:w,maximumDate:C,minimumDate:E,locale:_}),n.createElement("div",{className:"Calendar__weekDays"},Q),n.createElement(V,{activeDate:q,value:a,monthChangeDirection:L.monthChangeDirection,onSlideChange:function(){x(r(r({},L),{},{activeDate:p(q,L.monthChangeDirection),monthChangeDirection:""}))},disabledDays:y,onDisabledDayError:c,minimumDate:E,maximumDate:C,onChange:i,calendarTodayClassName:u,calendarSelectedDayClassName:d,calendarRangeStartClassName:m,calendarRangeEndClassName:h,calendarRangeBetweenClassName:f,locale:_,shouldHighlightWeekends:A,customDaysClassName:k,isQuickSelectorOpen:L.isYearSelectorOpen||L.isMonthSelectorOpen}),n.createElement("div",{className:"Calendar__footer"},O()))};K.defaultProps={minimumDate:null,maximumDate:null,colorPrimary:"#0eca2d",colorPrimaryLight:"#cff4d5",slideAnimationDuration:"0.4s",calendarClassName:"",locale:"en",value:null,renderFooter:function(){return null},customDaysClassName:[]};var X=n.forwardRef((function(e,t){var a=e.value,r=e.inputPlaceholder,o=e.inputClassName,i=e.inputName,c=e.formatInputText,l=e.renderInput,s=e.locale,u=P(s).getLanguageDigits,d=I(s),m=d.from,f=d.to,h=d.yearLetterSkip,g=d.digitSeparator,p=d.defaultPlaceholder,v=d.isRtl,b=function(){if(c())return c();switch(D(a)){case"SINGLE_DATE":return function(){if(!a)return"";var e=u(a.year),t=u(y(a.month)),n=u(y(a.day));return"".concat(e,"/").concat(t,"/").concat(n)}();case"RANGE":return function(){if(!a.from||!a.to)return"";var e=a.from,t=a.to,n="".concat(u(y(e.year)).toString().slice(h),"/").concat(u(y(e.month)),"/").concat(u(y(e.day))),r="".concat(u(y(t.year)).toString().slice(h),"/").concat(u(y(t.month)),"/").concat(u(y(t.day)));return"".concat(m," ").concat(n," ").concat(f," ").concat(r)}();case"MUTLI_DATE":return a.map((function(e){return u(e.day)})).join("".concat(g," "))}},S=r||p;return l({ref:t})||n.createElement("input",{"data-testid":"datepicker-input",readOnly:!0,ref:t,value:b(),name:i,placeholder:S,className:"DatePicker__input -".concat(v?"rtl":"ltr"," ").concat(o),"aria-label":S})}));X.defaultProps={formatInputText:function(){return""},renderInput:function(){return null},inputPlaceholder:"",inputClassName:"",inputName:""};var q=function(e){var a=e.value,r=e.onChange,o=e.formatInputText,i=e.inputPlaceholder,c=e.inputClassName,s=e.inputName,u=e.renderInput,d=e.wrapperClassName,m=e.calendarClassName,f=e.calendarTodayClassName,h=e.calendarSelectedDayClassName,y=e.calendarRangeStartClassName,g=e.calendarRangeBetweenClassName,p=e.calendarRangeEndClassName,v=e.calendarPopperPosition,b=e.disabledDays,S=e.onDisabledDayError,E=e.colorPrimary,C=e.colorPrimaryLight,N=e.slideAnimationDuration,w=e.minimumDate,_=e.maximumDate,A=e.selectorStartingYear,O=e.selectorEndingYear,k=e.locale,T=e.shouldHighlightWeekends,M=e.renderFooter,L=e.customDaysClassName,x=t.useRef(null),R=t.useRef(null),j=t.useRef(!1),P=l(t.useState(!1),2),I=P[0],Y=P[1];t.useEffect((function(){var e=function(){Y(!1)};return window.addEventListener("blur",e,!1),function(){window.removeEventListener("blur",e,!1)}}),[]),t.useEffect((function(){var e=D(a);"MUTLI_DATE"!==e&&(("SINGLE_DATE"===e?!I:!I&&a.from&&a.to)&&R.current.blur())}),[a,I]);t.useLayoutEffect((function(){if(I){var e=x.current.getBoundingClientRect(),t=e.left,n=e.width,a=e.height,r=e.top,o=document.documentElement,i=o.clientWidth,c=o.clientHeight,l=t+n>i,s=t<0,u=r+a>c;x.current.style.left=function(){var e=t+n-i;if(l||s){var a=Math.abs(t),r=s?a:0;return l?"calc(50% - ".concat(e,"px)"):"calc(50% + ".concat(r,"px)")}}(),("auto"===v&&u||"top"===v)&&x.current.classList.add("-top")}}),[I]);return t.useEffect((function(){!I&&j.current&&(R.current.focus(),j.current=!1)}),[j,I]),n.createElement("div",{onFocus:function(){!1===j.current&&Y(!0)},onBlur:function(e){if(e.persist(),I){var t=x.current.contains(e.relatedTarget);j.current?(j.current=!1,R.current.focus()):t&&e.relatedTarget?e.relatedTarget.focus():Y(!1)}},onKeyUp:function(e){switch(e.key){case"Enter":Y(!0);break;case"Escape":Y(!1),j.current=!0}},className:"DatePicker ".concat(d),role:"presentation"},n.createElement(X,{ref:R,formatInputText:o,value:a,inputPlaceholder:i,inputClassName:c,renderInput:u,inputName:s,locale:k}),I&&n.createElement(n.Fragment,null,n.createElement("div",{ref:x,className:"DatePicker__calendarContainer","data-testid":"calendar-container",role:"presentation",onMouseDown:function(){j.current=!0}},n.createElement(K,{value:a,onChange:function(e){var t=D(a);r(e),("SINGLE_DATE"===t||"RANGE"===t&&e.from&&e.to)&&Y(!1)},calendarClassName:m,calendarTodayClassName:f,calendarSelectedDayClassName:h,calendarRangeStartClassName:y,calendarRangeBetweenClassName:g,calendarRangeEndClassName:p,disabledDays:b,colorPrimary:E,colorPrimaryLight:C,slideAnimationDuration:N,onDisabledDayError:S,minimumDate:w,maximumDate:_,selectorStartingYear:A,selectorEndingYear:O,locale:k,shouldHighlightWeekends:T,renderFooter:M,customDaysClassName:L})),n.createElement("div",{className:"DatePicker__calendarArrow"})))};q.defaultProps={wrapperClassName:"",locale:"en",calendarPopperPosition:"auto"},exports.Calendar=K,exports.default=q,exports.utils=j;
